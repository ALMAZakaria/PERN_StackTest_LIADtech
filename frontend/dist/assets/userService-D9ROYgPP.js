import{a as s}from"./index-Dn7ziqGw.js";import"./query-dd5etqKE.js";import"./router-BhWMAr10.js";import"./vendor-D3F3s8fL.js";import"./redux-BiL-DBI5.js";class n{async getUsers(t={}){try{const e=new URLSearchParams;t.page&&e.append("page",t.page.toString()),t.limit&&e.append("limit",t.limit.toString()),t.search&&e.append("search",t.search),t.role&&e.append("role",t.role);const a=await s.get(`/users?${e.toString()}`);if(a.data.success&&a.data.data)return{users:a.data.data,meta:{page:a.data.meta?.page||t.page||1,limit:a.data.meta?.limit||t.limit||20,total:a.data.meta?.total||a.data.data.length,totalPages:a.data.meta?.totalPages||1}};throw new Error(a.data.message||"Failed to fetch users")}catch(e){const a=e.response?.data?.message||e.message||"Failed to fetch users";throw new Error(a)}}async createUser(t){try{const e=await s.post("/users/create",t);if(e.data.success&&e.data.data)return e.data.data;throw new Error(e.data.message||"Failed to create user")}catch(e){if(e.response?.data?.message==="Validation failed"&&e.response?.data?.data){const d=e.response.data.data.map(r=>`${r.field}: ${r.message}`).join(", ");throw new Error(`Validation failed: ${d}`)}const a=e.response?.data?.message||e.message||"Failed to create user";throw new Error(a)}}async getUserById(t){try{const e=await s.get(`/users/${t}`);if(e.data.success&&e.data.data)return e.data.data;throw new Error(e.data.message||"Failed to fetch user")}catch(e){const a=e.response?.data?.message||e.message||"Failed to fetch user";throw new Error(a)}}async updateUser(t,e){try{const a=await s.put(`/users/${t}`,e);if(a.data.success&&a.data.data)return a.data.data;throw new Error(a.data.message||"Failed to update user")}catch(a){if(a.response?.data?.message==="Validation failed"&&a.response?.data?.data){const r=a.response.data.data.map(i=>`${i.field}: ${i.message}`).join(", ");throw new Error(`Validation failed: ${r}`)}const o=a.response?.data?.message||a.message||"Failed to update user";throw new Error(o)}}async deleteUser(t){try{const e=await s.delete(`/users/${t}`);if(!e.data.success)throw new Error(e.data.message||"Failed to delete user")}catch(e){const a=e.response?.data?.message||e.message||"Failed to delete user";throw new Error(a)}}}const w=new n;export{w as default,w as userService};
//# sourceMappingURL=userService-D9ROYgPP.js.map
