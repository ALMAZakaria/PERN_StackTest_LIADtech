import{a as c}from"./index-ee9d87d5.js";import"./query-4c6e04e8.js";import"./vendor-280e31ee.js";import"./redux-9afd89d7.js";import"./router-37397ff9.js";class g{async getUsers(a={}){var r,s,e,t,n,i;try{const d=new URLSearchParams;a.page&&d.append("page",a.page.toString()),a.limit&&d.append("limit",a.limit.toString()),a.search&&d.append("search",a.search),a.role&&d.append("role",a.role);const o=await c.get(`/users?${d.toString()}`);if(o.data.success&&o.data.data)return{users:o.data.data,meta:{page:((r=o.data.meta)==null?void 0:r.page)||a.page||1,limit:((s=o.data.meta)==null?void 0:s.limit)||a.limit||20,total:((e=o.data.meta)==null?void 0:e.total)||o.data.data.length,totalPages:((t=o.data.meta)==null?void 0:t.totalPages)||1}};throw new Error(o.data.message||"Failed to fetch users")}catch(d){const o=((i=(n=d.response)==null?void 0:n.data)==null?void 0:i.message)||d.message||"Failed to fetch users";throw new Error(o)}}async createUser(a){var r,s;try{const e=await c.post("/users/create",a);if(e.data.success&&e.data.data)return e.data.data;throw new Error(e.data.message||"Failed to create user")}catch(e){const t=((s=(r=e.response)==null?void 0:r.data)==null?void 0:s.message)||e.message||"Failed to create user";throw new Error(t)}}async getUserById(a){var r,s;try{const e=await c.get(`/users/${a}`);if(e.data.success&&e.data.data)return e.data.data;throw new Error(e.data.message||"Failed to fetch user")}catch(e){const t=((s=(r=e.response)==null?void 0:r.data)==null?void 0:s.message)||e.message||"Failed to fetch user";throw new Error(t)}}async updateUser(a,r){var s,e;try{const t=await c.put(`/users/${a}`,r);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to update user")}catch(t){const n=((e=(s=t.response)==null?void 0:s.data)==null?void 0:e.message)||t.message||"Failed to update user";throw new Error(n)}}async deleteUser(a){var r,s;try{const e=await c.delete(`/users/${a}`);if(!e.data.success)throw new Error(e.data.message||"Failed to delete user")}catch(e){const t=((s=(r=e.response)==null?void 0:r.data)==null?void 0:s.message)||e.message||"Failed to delete user";throw new Error(t)}}}const f=new g;export{f as default,f as userService};
//# sourceMappingURL=userService-1b32d832.js.map
