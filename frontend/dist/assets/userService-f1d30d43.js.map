{"version":3,"file":"userService-f1d30d43.js","sources":["../../src/services/userService.ts"],"sourcesContent":["import api, { ApiResponse, User } from './api';\n\nexport interface CreateUserData {\n  firstName: string;\n  lastName: string;\n  email: string;\n  password: string;\n  role: 'user' | 'admin' | 'moderator';\n}\n\nexport interface UpdateUserData {\n  firstName?: string;\n  lastName?: string;\n  email?: string;\n  role?: string;\n  isActive?: boolean;\n}\n\nexport interface UsersQueryParams {\n  page?: number;\n  limit?: number;\n  search?: string;\n  role?: string;\n}\n\nexport interface UsersResponse {\n  users: User[];\n  meta: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\nclass UserService {\n  // Get all users with filtering and pagination\n  async getUsers(params: UsersQueryParams = {}): Promise<UsersResponse> {\n    try {\n      const queryParams = new URLSearchParams();\n      \n      if (params.page) queryParams.append('page', params.page.toString());\n      if (params.limit) queryParams.append('limit', params.limit.toString());\n      if (params.search) queryParams.append('search', params.search);\n      if (params.role) queryParams.append('role', params.role);\n\n      const response = await api.get<ApiResponse<User[]>>(`/users?${queryParams.toString()}`);\n      \n      if (response.data.success && response.data.data) {\n        return {\n          users: response.data.data,\n          meta: {\n            page: response.data.meta?.page || params.page || 1,\n            limit: response.data.meta?.limit || params.limit || 20,\n            total: response.data.meta?.total || response.data.data.length,\n            totalPages: response.data.meta?.totalPages || 1\n          }\n        };\n      } else {\n        throw new Error(response.data.message || 'Failed to fetch users');\n      }\n    } catch (error: any) {\n      const message = error.response?.data?.message || error.message || 'Failed to fetch users';\n      throw new Error(message);\n    }\n  }\n\n  // Create new user (Admin only)\n  async createUser(userData: CreateUserData): Promise<User> {\n    try {\n      const response = await api.post<ApiResponse<User>>('/users/create', userData);\n      \n      if (response.data.success && response.data.data) {\n        return response.data.data;\n      } else {\n        throw new Error(response.data.message || 'Failed to create user');\n      }\n    } catch (error: any) {\n      const message = error.response?.data?.message || error.message || 'Failed to create user';\n      throw new Error(message);\n    }\n  }\n\n  // Get user by ID\n  async getUserById(id: string): Promise<User> {\n    try {\n      const response = await api.get<ApiResponse<User>>(`/users/${id}`);\n      \n      if (response.data.success && response.data.data) {\n        return response.data.data;\n      } else {\n        throw new Error(response.data.message || 'Failed to fetch user');\n      }\n    } catch (error: any) {\n      const message = error.response?.data?.message || error.message || 'Failed to fetch user';\n      throw new Error(message);\n    }\n  }\n\n  // Update user\n  async updateUser(id: string, userData: UpdateUserData): Promise<User> {\n    try {\n      const response = await api.put<ApiResponse<User>>(`/users/${id}`, userData);\n      \n      if (response.data.success && response.data.data) {\n        return response.data.data;\n      } else {\n        throw new Error(response.data.message || 'Failed to update user');\n      }\n    } catch (error: any) {\n      const message = error.response?.data?.message || error.message || 'Failed to update user';\n      throw new Error(message);\n    }\n  }\n\n  // Delete user (Admin only)\n  async deleteUser(id: string): Promise<void> {\n    try {\n      const response = await api.delete<ApiResponse>(`/users/${id}`);\n      \n      if (!response.data.success) {\n        throw new Error(response.data.message || 'Failed to delete user');\n      }\n    } catch (error: any) {\n      const message = error.response?.data?.message || error.message || 'Failed to delete user';\n      throw new Error(message);\n    }\n  }\n}\n\n// Export singleton instance\nexport const userService = new UserService();\nexport default userService; "],"names":["UserService","params","queryParams","response","api","_a","_b","_c","_d","error","message","_f","_e","userData","id","userService"],"mappings":"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"}